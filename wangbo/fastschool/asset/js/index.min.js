!function(){var a={bindEvents:function(){var b=this;this.event(this.getElements(".dl:not(.disable)"),this.canTouch?"touchend":"click",function(){var c=b.getQueryString("refer"),d=this.getAttribute("data-href");c&&(d+="?refer="+c),a.preDownload(d)})},event:function(a,b,c){var d,e,f;if(a)for(d=a,d instanceof Array||(d=[a]),e=0,f=d.length;f>e;e++)d[e].addEventListener(b,c,!1)},getElements:function(a){var e,b=document.querySelectorAll(a),c=b.length,d=[];if(b.length>0)for(e=0;c>e;e++)d.push(b[e]);return d},isWeiXin:"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i),canTouch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),preDownload:function(a){this.isWeiXin?document.getElementById("wx_dl_tip").style.display="block":this.download(a)},download:function(a){var b=document.createElement("a");b.setAttribute("target","_blank"),b.setAttribute("href",a),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)},getQueryString:function(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),c=window.location.search.substr(1).match(b);return null!=c?c[2]:null},init:function(){this.bindEvents()}};a.init()}();